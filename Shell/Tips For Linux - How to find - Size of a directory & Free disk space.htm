<html>
<head>
<title>Tips For Linux - How to find - Size of a directory &amp; Free disk space</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF"  leftMargin=0 rightMargin=0 topMargin=0 bottomMargin=0 marginheight="0" marginwidth="0">
<div align="left">
  <table width="100%" border="0" cellpadding="0" cellspacing="0" name="top bar">
    <tr bgcolor="#D7D7D7"> 
      <td width="15%" bgcolor="#D7D7D7"> 
        <div align="left"><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b><font color="#D7D7D7">.</font><font color="#FFFFFF"> 
          </font></b></font></div>
      </td>
      <td width="46%">
        <div align="center"><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b><font color="#FFFFFF"><font color="#000000">Tips 
          For Linux</font></font></b></font></div>
      </td>
      <td width="15%"> 
        <div align="center"><a href="../index.html"><img src="../images/backtohomepage.jpg" width="94" height="10" align="absmiddle" border="0"></a></div>
      </td>
    </tr>
    <tr bgcolor="#FFFFFF"> 
      <td colspan="3"> 
        <div align="center"><img src="../images/shadowbottom.jpg" width="100%" height="7"></div>
      </td>
    </tr>
  </table>
  <br>
  <table width="98%" border="0" cellpadding="1" cellspacing="0" bgcolor="#AFAFAF" name="outside table" align="center">
    <tr>
      <td>
        <table width="100%" border="0" bgcolor="#FFFFFF" name="inside table" cellpadding="3" cellspacing="0">
          <tr>
            <td height="19"> 
              <div align="left"><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>&gt;&gt; 
                How to find - Size of a directory &amp; Free disk space</b></font></div>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
  <div align="center"><img src="../images/white.gif" width="1" height="4"><br>
  </div>
  <table width="98%" border="0" align="center" cellpadding="1" cellspacing="0" bgcolor="#AFAFAF" name="outside table">
    <tr>
      <td>
        <table width="100%" border="0" bgcolor="#FFFFFF" name="inside table" cellpadding="3" cellspacing="0">
          <tr>
            <td>
              <div align="left">
                <p><font face="Verdana, Arial, Helvetica, sans-serif" size="-1">This 
                  article explains 2 simple commands that most people want to 
                  know when they start using Linux. They are finding the size 
                  of a directory and finding the amount of free disk space that 
                  exists on your machine. The command you would use to find the 
                  directory size is '<i> du </i>'. And to find the free disk space 
                  you could use '<i> df </i>'.<br>
                  <br>
                  All the information present in this article is available in 
                  the man pages for du and df. In case you get bored reading the 
                  man pages and you want to get your work done quickly, then this 
                  article is for you.<br>
                  <br>
                  -<br>
                  <br>
                  <b>'du' - Finding the size of a directory</b><br>
                  <br>
                  <b>$ du</b><br>
                  Typing the above at the prompt gives you a list of directories 
                  that exist in the current directory along with their sizes. 
                  The last line of the output gives you the total size of the 
                  current directory including its subdirectories. The size given 
                  includes the sizes of the files and the directories that exist 
                  in the current directory as well as all of its subdirectories. 
                  Note that by default the sizes given are in kilobytes. <br>
                  <br>
                  <br>
                  </font><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>$ 
                  du /home/david</b><br>
                  The above command would give you the directory size of the directory 
                  /home/david<br>
                  <br>
                  <br>
                  <b>$ du -h</b><br>
                  This command gives you a better output than the default one. 
                  The option '-h' stands for <i>human readable format</i>. So 
                  the sizes of the files / directories are this time suffixed 
                  with a 'k' if its kilobytes and 'M' if its Megabytes and 'G' 
                  if its Gigabytes.</font></p>
                <p><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b><br>
                  $ du -ah</b><br>
                  This command would display in its output, not only the directories 
                  but also all the files that are present in the current directory. 
                  Note that 'du' always counts all files and directories while 
                  giving the final size in the last line. But the '-a' <i>displays</i> 
                  the filenames along with the directory names in the output. 
                  '-h' is once again human readable format.<br>
                  <br>
                  <br>
                  </font><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>$ 
                  du -c</b><br>
                  This gives you a <i>grand total</i> as the last line of the 
                  output. So if your directory occupies 30MB the last 2 lines 
                  of the output would be<br>
                  <br>
                  30M .<br>
                  30M total<br>
                  <br>
                  The first line would be the default last line of the 'du' output 
                  indicating the total size of the directory and another line 
                  displaying the same size, followed by the string '<i>total</i>'. 
                  This is helpful in case you this command along with the grep 
                  command to only display the final total size of a directory 
                  as shown below.<br>
                  <br>
                  <br>
                  <b>$ du -ch | grep total</b><br>
                  This would have only one line in its output that displays the 
                  total size of the current directory including all the subdirectories.<br>
                  <br>
                  <font size="-2"><b>Note :</b> In case you are not familiar with 
                  pipes (which makes the above command possible) refer to <a href="24.html">Article 
                  No. 24</a> . Also grep is one of the most important commands 
                  in Unix. Refer to <a href="25.html">Article No. 25</a> to know 
                  more about grep.</font><br>
                  <br>
                  <br>
                  <b>$ du -s</b><br>
                  This displays a summary of the directory size. It is the simplest 
                  way to know the total size of the current directory.<br>
                  <br>
                  <br>
                  </font><b><font face="Verdana, Arial, Helvetica, sans-serif" size="-1">$ 
                  du -S</font></b><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><br>
                  This would display the size of the current directory excluding 
                  the size of the subdirectories that exist within that directory. 
                  So it basically shows you the total size of <i>all the files</i> 
                  that exist in the current directory.<br>
                  <br>
                  <br>
                  </font><b><font face="Verdana, Arial, Helvetica, sans-serif" size="-1">$ 
                  du --exculde=mp3</font></b><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><br>
                  The above command would display the size of the current directory 
                  along with all its subdirectories, <i><b>but</b></i> it would 
                  exclude all the files having the given pattern present in their 
                  filenames. Thus in the above case if there happens to be any 
                  mp3 files within the current directory or any of its subdirectories, 
                  their size <i>would not be included</i> while calculating the 
                  total directory size.<br>
                  <br>
                  - <br>
                  <br>
                  <b> 'df' - finding the disk free space / disk usage</b><br>
                  <br>
                  <b>$ df</b><br>
                  Typing the above, outputs a table consisting of 6 columns. All 
                  the columns are very easy to understand. Remember that the 'Size', 
                  'Used' and 'Avail' columns use kilobytes as the unit. The 'Use%' 
                  column shows the usage as a percentage which is also very useful.<br>
                  <br>
                  <br>
                  <b>$ df -h</b><br>
                  Displays the same output as the previous command but the '-h' 
                  indicates <i>human readable format</i>. Hence instead of kilobytes 
                  as the unit the output would have 'M' for Megabytes and 'G' 
                  for Gigabytes. <br>
                  <br>
                  Most of the users don't use the other parameters that can be 
                  passed to 'df'. So I shall not be discussing them.<br>
                  <br>
                  I shall in turn show you an example that I use on my machine. 
                  I have actually stored this as a script named <i>'usage</i>' 
                  since I use it often. <br>
                  <br>
                  <b> Example :<br>
                  </b><br>
                  I have my Linux installed on /dev/hda1 and I have mounted my 
                  Windows partitions as well (by default every time Linux boots). 
                  So 'df' by default shows me the disk usage of my Linux as well 
                  as Windows partitions. And I am only interested in the disk 
                  usage of the Linux partitions. This is what I use :<br>
                  <br>
                  <b>$ df -h | grep /dev/hda1 | cut -c 41-43</b><br>
                  <br>
                  This command displays the following on my machine<br>
                  <br>
                  <b>45%</b><br>
                  <br>
                  Basically this command makes 'df' display the disk usages of 
                  all the partitions and then extracts the lines with /dev/hda1 
                  since I am only interested in that. Then it cuts the characters 
                  from the 41st to the 43rd column since they are the columns 
                  that display the usage in % , which is what I want.<br>
                  <br>
                  <b>Note :</b> In case you are not familiar with pipes (which 
                  is used in the above command) then refer to <a href="24.html">Article 
                  No. 24</a> . 'cut' is another tool available in Unix. The above 
                  usage of cut gets the the characters that are present in the 
                  specified columns. If you are interested in knowing how to mount 
                  you Windows partitions under Linux, please refer to <a href="3.html">Article 
                  No. 3</a> .</font></p>
                <p><font face="Verdana, Arial, Helvetica, sans-serif" size="-1">There 
                  are a few more options that can be used with 'du' and 'df' . 
                  You could find them in the man pages.</font></p>
  </div>
              </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
  <br>
  <center>
<script type="text/javascript"><!--
google_ad_client = "pub-4640193392225940";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel ="8628450082";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

</div>
<table width="100%" border="0" cellpadding="0" cellspacing="0" name="bottom bar">
  <tr bgcolor="#AFAFAF"> 
    <td colspan="4" bgcolor="#FFFFFF"> 
      <div align="center"><img src="../images/shadowtop.jpg" width="100%" height="7"></div>
    </td>
  </tr>
  <tr bgcolor="#D7D7D7" valign="top"> 
    <td width="1%" height="10"><font face="Verdana, Arial, Helvetica, sans-serif" size="-2" color="#D7D7D7">&gt;</font></td>
    <td valign="middle" height="10"><a href="../index.html"><img src="../images/backtohomepage.jpg" width="94" height="10" align="absmiddle" border="0"></a></td>
    <td valign="middle" height="10"> 
      <div align="right"><font face="Verdana, Arial, Helvetica, sans-serif" size="-2">Tips 
        For Linux &copy; All Copyrights Reserved</font></div>
    </td>
    <td width="3%" height="10">&nbsp;</td>
  </tr>
</table>
</body>
</html>
